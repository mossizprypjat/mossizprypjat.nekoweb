<!DOCTYPE html>
<html lang="en">
<head>
    <link href="images/lmao.jpg" rel="icon" type="image/x-icon">
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Moss' Domain</title>
    <link href="style.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="lastfm.js"></script>
    <script src="visitor.js"></script>
    <script src="Bonniebot_status.js"></script>
</head>

<body>
<div id="container">

    <div id="headerArea">
        <div id="header">
            <h1>MOSS' DOMAIN</h1>
        </div>
        <nav id="navbar">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="cats">Cats</a></li>
                <li><a href="space">Space</a></li>
                <li><a href="weather">Weather</a></li>
            </ul>
        </nav>
    </div>

    <div id="flex">

        <main>
            <h2>uhhhhh hi :3 </h2>
            <p>You are visitor: <span class="view-counter"></span></p>
            <p>
                If you guys have feedback or find something wrong, don't hesitate to leave an issue at
                <a href="https://github.com/mossizprypjat/mossizprypjat.nekoweb/issues">my GitHub repository</a>
            </p>
            <p>
                Hi my name is moss, my pronouns are they/them and I love my cats, they help me stay sane.<br>
                I'm a physics student and I really like programming. <br>
                the games im currently enjoying are:
            <ul>
                <li>Hollow Knight</li>
                <li>Minecraft</li>
                <li>Lethal company</li>
            </ul>
            </p>
            <h3>You guys can chat here :3</h3>
            <p>
                Stay friendly here or I will explode
            </p>
            <iframe allow="autoplay"
                    allowtransparency="yes" frameborder="0" height="450"
                    marginheight="0" marginwidth="0" scrolling="auto"
                    src="https://www5.cbox.ws/box/?boxid=949913&boxtag=ouWEAx" width="100%">
            </iframe>

            <h2>#Swagalicious Buttons:</h2>
            <a href="https://mossizprypjat.nekoweb.org/"><img alt="My Site Button"
                                                              src="https://mossizprypjat.nekoweb.org/images/site_button.png"
                                                              width="88px" height="31px"></a>
            <a href="https://districts.nekoweb.org/"><img alt="Nekoweb Districts"
                                                          src="https://districts.nekoweb.org/img/districts002.png"></a>
            <a href="https://nekoweb.org/"><img src="https://nekoweb.org/assets/buttons/button6.gif"></a>
            <!-- button by s1nez.nekoweb.org -->
            <a href="https://july.lol"><img src="https://july.lol/img/buttons/chrome2.gif"></a>
            <a href="https://july.lol"><img src="https://july.lol/img/buttons/anybrowser3.gif"></a>
            <a href="https://july.lol"><img src="https://july.lol/img/buttons/antinft.gif"></a>
            <a href="https://july.lol"><img src="https://july.lol/img/buttons/32bitty-loren.png"></a>
            <a href="https://88x31.nekoweb.org"><img src="https://88x31.nekoweb.org/firefox_now_chrome.gif"></a>
            <a href="https://88x31.nekoweb.org"><img src="https://88x31.nekoweb.org/ddg.gif"></a>
            <a href="https://88x31.nekoweb.org"><img src="https://88x31.nekoweb.org/free_palestine_now.png"></a>
            <a href="https://88x31.nekoweb.org"><img src="https://88x31.nekoweb.org/LGBTQ.gif"></a>

            <a href="https://july.lol"><img src="https://july.lol/img/stamps/bisexualskull.gif"></a>
        </main>

        <aside id="rightSidebar"><h2>Socials</h2>
            <div class="box">
                <p>
                <ul>
                    <li><a href="https://mossizprypjat.tumblr.com/">Tumblr</a></li>
                    <li><a href="https://twitter.com/27Froggys">Twitter (eww)</a></li>
                    <li><a href="https://github.com/mossizprypjat">GitHub</a></li>
                    <li><a href="https://qoto.org/web/accounts/799827">Mastodon</a></li>
                </ul>
            </div>
            <h2>Last played song</h2>
            <div id="lastPlayed"></div>

            <h2>BonnieBot status</h2>
            <p>this still needs to be done</p>
        </aside>
    </div>

    <footer id="footer">
        <p>You are visitor: <span class="view-counter"></span></p>
    </footer>
</div>
<script src="oneko/oneko.js"></script>
<script src="visitor.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
    let socket = io();

    let form = document.getElementById('form');
    let myname = document.getElementById('myname');
    let message = document.getElementById('message');
    let messageArea = document.getElementById('messageArea');

    form.addEventListener('submit', (e) => {
        e.preventDefault();

        if (message.value) {
            socket.emit('send name', myname.value);
            socket.emit('send message', message.value);
            message.value = '';
        }
    });

    socket.on('send name', (username) => {
        let name = document.createElement('p');
        name.classList.add('message');
        name.innerHTML = `<span class="username">${username}:</span>`;
        messageArea.appendChild(name);
    });

    socket.on('send message', (chat) => {
        let chatContent = document.createElement('p');
        chatContent.classList.add('message');
        chatContent.textContent = chat;
        messageArea.appendChild(chatContent);
    });
</script>
</body>
</html>
